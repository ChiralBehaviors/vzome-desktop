apply plugin: 'java'
apply plugin: 'maven'

group = 'com.vzome'
version = '5.0'

description = """vzome-desktop"""

sourceCompatibility = 1.5
targetCompatibility = 1.5

repositories {
    mavenLocal()
    mavenCentral()
    maven { url "http://repository.springsource.com/maven/bundles/external" }
}

dependencies {
    compile group: 'com.vzome.core', name: 'vzome-core', version:'5.0-SNAPSHOT'
    compile group: 'org.jogamp.java3d', name: 'j3dcore', version:'1.6.0'
    compile group: 'org.jogamp.java3d', name: 'j3dutils', version:'1.6.0'
    compile group: 'org.jogamp.java3d', name: 'vecmath', version:'1.6.0'
//     compile group: 'org.jogamp.gluegen', name: 'gluegen-rt-main', version:'2.2.4'
//     compile group: 'org.jogamp.jogl', name: 'jogl-all-main', version:'2.2.4'
    compile group: 'javax.media.jai', name: 'com.springsource.javax.media.jai.core', version:'1.1.3'
    testCompile group: 'junit', name: 'junit', version:'3.8.1'
}

sourceSets {
    main {
        java {
            srcDir 'src/main/java'
            exclude 'org/vorthmann/zome/render/jogl/**'  // initial framework for a pure JOGL renderer is not ready for use
            def plat = System.properties['os.name'].toLowerCase()
            if ( ! plat.contains('mac') ) {
                println "excluding MacAdapter on platform " + plat
                exclude 'org/vorthmann/j3d/MacAdapter.java'
            }
       }
   }
}